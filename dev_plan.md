# AI 포탈 개발 실행 계획 (Dev Plan)
## 4단계 10주 Sprint 실행 로드맵

---

## 📋 개발 원칙

### Vibe Coding 방식
- **명세 기반 창의적 구현**: develop.md의 방향성을 기반으로 세부사항 최적화
- **점진적 기능 완성**: 각 Sprint마다 사용 가능한 기능 단위 완성
- **지속적 피드백**: 매주 기능 검토 및 개선사항 반영
- **품질 우선**: 테스트 및 코드 리뷰를 통한 안정성 확보

### 우선순위 원칙
1. **사용자 가치 우선**: 실제 사용 가능한 기능부터 구현
2. **안정성 기반**: SYGenai 검증 패턴 활용으로 위험도 최소화  
3. **확장성 고려**: 향후 기능 추가가 용이한 구조 설계
4. **성능 최적화**: 응답 시간 및 사용성 지속 개선

---

## 🚀 Phase 1: MVP Foundation (3주)
### 목표: 기본 채팅 + Web Search Agent 완성

#### Week 1: 기반 인프라 구축
**백엔드 (FastAPI)**
- [x] 프로젝트 구조 설정 및 개발 환경 구성 *(완료: 2025-01-06)*
- [ ] FastAPI 기본 서버 및 미들웨어 설정
- [ ] PostgreSQL 데이터베이스 스키마 구현
  - [ ] users, cache_table, workspaces, artifacts 테이블
  - [ ] Alembic 마이그레이션 설정
- [ ] 기본 인증 시스템 (Mock Authentication)
- [ ] 로깅 및 모니터링 설정 (Langsmith 연동)

**프론트엔드 (React)**
- [x] Vite + React + TypeScript 프로젝트 설정 *(완료: 2025-01-06)*
- [x] TailwindCSS 및 기본 디자인 시스템 구성 *(완료: 2025-01-06)*
- [x] 기본 라우팅 및 페이지 구조 설정 *(완료: 2025-01-06)*
- [x] Zustand 상태 관리 설정 *(완료: 2025-01-06)*

**DevOps**
- [x] Docker 개발 환경 구성 *(완료: 2025-01-06)*
- [ ] GitHub Actions CI/CD 파이프라인 기본 설정

#### Week 2: 기본 채팅 시스템 구현
**AI 에이전트 코어**
- [x] LLM 라우팅 시스템 구현 *(완료: 2025-01-06)*
  - [x] AWS Bedrock (Claude) 클라이언트 준비
  - [x] GCP GenerativeAI (Gemini) 클라이언트 준비
  - [x] 동적 모델 선택 로직
- [x] LangGraph 기반 기본 에이전트 체인 *(완료: 2025-01-06)*
- [ ] Redis 대체 캐싱 시스템 (PostgreSQL + 메모리)

**채팅 인터페이스**
- [x] 채팅 메시지 컴포넌트 *(완료: 2025-01-06)*
- [ ] 실시간 메시지 스트리밍 (WebSocket)
- [x] 모델 선택 UI *(기본 완료: 2025-01-06)*
- [ ] 타이핑 인디케이터 및 로딩 상태

**API 설계**
- [x] `/api/v1/chat` 엔드포인트 구현 *(완료: 2025-01-06)*
- [ ] WebSocket 채팅 스트리밍 (`/ws/chat/{conversation_id}`)
- [ ] 에러 처리 및 응답 표준화

#### Week 3: Web Search Agent 완성
**Web Search Agent**
- [x] 실시간 웹 검색 에이전트 구현 *(기본 완료: 2025-01-06)*
- [ ] 검색 결과 요약 및 구조화
- [ ] 인용 및 출처 표기 시스템
- [ ] 검색 결과 캐싱 및 최적화

**사용자 경험 개선**
- [ ] 검색 진행 상태 표시
- [ ] 검색 결과 시각화
- [ ] 대화 기록 저장 및 불러오기
- [ ] 반응형 웹 디자인 적용

**테스팅 및 QA**
- [ ] 단위 테스트 작성 (백엔드 핵심 로직)
- [ ] E2E 테스트 (채팅 플로우)
- [ ] 성능 테스트 및 최적화
- [ ] 보안 검토 (입력 검증, Rate Limiting)

### Phase 1 완료 기준 ✅
- 사용자가 채팅을 통해 Web Search Agent와 상호작용 가능
- Claude/Gemini 모델 선택 및 동적 라우팅 작동
- 검색 결과가 구조화되어 표시되고 출처 명시
- 기본적인 대화 기록 관리
- 응답 시간 < 3초 (P95)

---

## 🔧 Phase 2: File Processing & RAG (2.5주)
### 목표: 파일 업로드 + 멀티모달 RAG 에이전트

#### Week 4: 파일 처리 시스템
**파일 업로드 & 저장**
- [ ] 멀티파트 파일 업로드 API (`/api/v1/files/upload`)
- [ ] S3 호환 저장소 연동 (MinIO/LocalStack 개발용)
- [ ] 파일 메타데이터 관리 (PostgreSQL)
- [ ] 지원 파일 형식: PDF, DOCX, TXT, CSV, XLSX, Images

**파일 처리 파이프라인**
- [ ] 비동기 파일 처리 워커 (Celery/RQ)
- [ ] 텍스트 추출 (PyPDF2, python-docx)
- [ ] 이미지 OCR (Tesseract)
- [ ] 구조화 데이터 파싱 (pandas)

**프론트엔드 파일 UI**
- [ ] 드래그 앤 드롭 파일 업로드
- [ ] 업로드 진행률 표시
- [ ] 파일 목록 및 상태 관리
- [ ] 파일 미리보기 기능

#### Week 5: RAG 시스템 구축
**벡터 저장소**
- [ ] OpenSearch 클러스터 설정 (로컬 개발용)
- [ ] 문서 청킹 전략 구현
- [ ] Sentence Transformers 임베딩 생성
- [ ] 하이브리드 검색 (BM25 + 시맨틱) 구현

**Multimodal RAG Agent**
- [ ] 파일 기반 질의응답 에이전트
- [ ] 컨텍스트 기반 답변 생성
- [ ] 출처 문서 및 페이지 인용
- [ ] 이미지 기반 질의 처리

#### Week 6 (0.5주): RAG 통합 및 최적화
**시스템 통합**
- [ ] 채팅에 파일 업로드 통합
- [ ] RAG Agent와 Web Search Agent 연동
- [ ] 파일 기반 대화 컨텍스트 유지
- [ ] 성능 최적화 및 캐싱

### Phase 2 완료 기준 ✅
- 다양한 파일 형식 업로드 및 처리 가능
- 업로드된 문서 기반 정확한 질의응답
- 검색 결과와 문서 내용의 출처 명시
- 이미지 내용 인식 및 관련 질의 처리
- 파일 처리 응답 시간 < 10초 (일반 문서)

---

## 🎨 Phase 3: Interactive Workspace (3주)
### 목표: Canvas/Artifacts 스타일 협업 워크스페이스

#### Week 7: 워크스페이스 기반 구조
**워크스페이스 백엔드**
- [ ] 워크스페이스 관리 API
  - [ ] `/api/v1/workspaces` CRUD 엔드포인트
  - [ ] 협업자 권한 관리
  - [ ] 워크스페이스 설정 저장
- [ ] 아티팩트 시스템 구현
  - [ ] 다양한 아티팩트 타입 지원 (문서, 코드, 차트)
  - [ ] 버전 관리 및 변경 추적
  - [ ] 실시간 동기화 준비

**워크스페이스 프론트엔드**
- [ ] 워크스페이스 대시보드
- [ ] 분할 화면 레이아웃 (채팅 + 워크스페이스)
- [ ] 아티팩트 렌더러 컴포넌트
- [ ] 기본 편집 기능

#### Week 8: 실시간 협업 기능
**WebSocket 실시간 협업**
- [ ] 워크스페이스 WebSocket 연결 (`/ws/workspace/{id}`)
- [ ] 실시간 아티팩트 편집 동기화
- [ ] 사용자 커서 및 선택 영역 공유
- [ ] 편집 충돌 해결 로직

**고급 편집 기능**
- [ ] Monaco Editor 통합 (코드 아티팩트)
- [ ] Rich Text 편집기 (문서 아티팩트)
- [ ] 차트 생성 도구 (Chart.js/D3.js)
- [ ] 템플릿 시스템

**Canvas Agent**
- [ ] 워크스페이스 컨텍스트 인식 에이전트
- [ ] 아티팩트 생성/수정 지원
- [ ] 자동 코드 생성 및 리팩토링
- [ ] 문서 구조화 및 개선 제안

#### Week 9: 사용자 경험 완성
**협업 UX**
- [ ] 실시간 협업 표시 (활성 사용자, 편집 상태)
- [ ] 댓글 및 피드백 시스템
- [ ] 아티팩트 공유 및 내보내기
- [ ] 알림 및 활동 피드

**개인화 기능**
- [ ] 사용자 프로파일 자동 수집 시스템
- [ ] 개인화된 추천 및 제안
- [ ] 워크스페이스 템플릿 및 즐겨찾기
- [ ] 새미 GPT 기능 토글 UI

### Phase 3 완료 기준 ✅
- 채팅에서 워크스페이스로 자연스러운 전환
- 여러 사용자가 동시에 실시간 편집 가능
- 다양한 아티팩트 유형 생성 및 편집 지원
- 버전 관리 및 변경 추적 기능
- 협업 상황 실시간 표시

---

## 🚁 Phase 4: Advanced Features & Production (1.5주)
### 목표: 고급 기능 + 프로덕션 배포 준비

#### Week 10: Tier1 도메인 에이전트 & MCP
**도메인 전문 에이전트**
- [ ] MCP 프로토콜 기반 에이전트 설정 시스템
- [ ] Regulations, Legal, Accounting, Tax Agent 기본 구현
- [ ] 관리자 설정 UI (에이전트별 MCP 서버 구성)
- [ ] 사용자별 에이전트 권한 관리

**시스템 최적화**
- [ ] 성능 모니터링 및 최적화
- [ ] 캐싱 전략 고도화
- [ ] 데이터베이스 쿼리 최적화
- [ ] 에러 추적 및 로깅 개선

#### Week 10.5: 프로덕션 준비
**보안 및 안정성**
- [ ] 보안 취약점 검사 및 수정
- [ ] API Rate Limiting 및 DDoS 방지
- [ ] 데이터 암호화 및 개인정보 보호
- [ ] 백업 및 복구 시스템

**배포 및 운영**
- [ ] Docker 프로덕션 최적화
- [ ] Kubernetes 배포 설정
- [ ] CI/CD 파이프라인 완성
- [ ] 모니터링 대시보드 구성

### Phase 4 완료 기준 ✅
- 도메인 전문 에이전트 활용 가능
- 시스템 안정성 및 성능 요구사항 달성
- 프로덕션 배포 준비 완료
- 사용자 교육 및 문서 제공

---

## 📊 주차별 진행 관리

### 매주 체크포인트
**매주 금요일 17:00 - 주간 리뷰**
- [ ] 완료된 기능 데모
- [ ] 다음 주 작업 계획 확정
- [ ] 장애물 및 해결방안 논의
- [ ] 코드 품질 및 테스트 커버리지 점검

**매주 월요일 09:00 - 주간 킥오프**
- [ ] 주간 목표 설정 및 작업 배분
- [ ] 기술적 의사결정 사항 논의
- [ ] 외부 의존성 및 리스크 점검

---

## 🎯 성공 지표 (KPI)

### 기술적 지표
- **테스트 커버리지**: 80% 이상 유지
- **API 응답 시간**: P95 < 200ms
- **시스템 가용성**: 99.9% 목표
- **동시 사용자 지원**: 100명 이상

### 사용자 경험 지표  
- **기능 완성도**: 각 Phase별 완료 기준 달성
- **사용성 테스트**: 신규 사용자 3분 이내 기본 기능 사용
- **협업 효율성**: 실시간 편집 지연 < 100ms
- **에이전트 정확도**: 질의 응답 만족도 85% 이상

### 프로젝트 관리 지표
- **일정 준수율**: 90% 이상
- **기능 변경 요청**: 주당 3개 이하
- **버그 해결 시간**: 평균 2일 이내
- **코드 리뷰**: 모든 PR 리뷰 후 병합

---

## 🚨 리스크 관리

### 기술적 리스크
| 리스크 | 확률 | 영향도 | 대응방안 |
|--------|------|---------|----------|
| LLM API 장애 | 중 | 높음 | 다중 모델 라우팅, 폴백 메커니즘 |
| 성능 병목 | 높음 | 중 | 점진적 최적화, 캐싱 전략 |
| 데이터 일관성 | 중 | 높음 | 트랜잭션 관리, 데이터 검증 |
| 보안 취약점 | 중 | 높음 | 정기 보안 검사, 코드 리뷰 |

### 일정 리스크
| 리스크 | 확률 | 영향도 | 대응방안 |
|--------|------|---------|----------|
| 기능 복잡도 과소평가 | 높음 | 중 | 버퍼 시간 확보, 스코프 조정 |
| 외부 API 연동 지연 | 중 | 중 | 모킹 환경 구성, 병렬 개발 |
| 팀원 가용성 변동 | 중 | 중 | 크로스 트레이닝, 문서화 |

---

## 📈 품질 보증 계획

### 테스트 전략
**자동화 테스트**
- [ ] 단위 테스트 (Jest, pytest)
- [ ] 통합 테스트 (API 엔드포인트)
- [ ] E2E 테스트 (Playwright)
- [ ] 성능 테스트 (k6)

**수동 테스트**
- [ ] 사용성 테스트 (주간 1회)
- [ ] 보안 테스트 (Phase 완료시)
- [ ] 크로스 브라우저 테스트
- [ ] 모바일 반응성 테스트

### 코드 품질
**정적 분석**
- [ ] ESLint + Prettier (프론트엔드)
- [ ] Black + isort + mypy (백엔드)
- [ ] SonarQube 코드 품질 분석
- [ ] 보안 취약점 스캔 (bandit, safety)

**코드 리뷰**
- [ ] 모든 PR 필수 리뷰
- [ ] 아키텍처 변경사항 팀 리뷰
- [ ] 보안 관련 코드 전문가 리뷰

---

## 🔄 지속적 개선

### 피드백 루프
- **개발자 피드백**: 매일 스탠드업, 주간 회고
- **사용자 피드백**: Phase별 사용성 테스트
- **성능 피드백**: 실시간 모니터링 대시보드
- **비즈니스 피드백**: 주간 스테이크홀더 리뷰

### 개선 프로세스
1. **문제 식별**: 모니터링, 피드백, 테스트를 통한 이슈 발견
2. **원인 분석**: 근본 원인 분석 및 개선 방안 도출
3. **해결책 구현**: 우선순위에 따른 개선사항 적용
4. **효과 검증**: 개선 전후 비교 및 효과 측정

---

## 📋 세부 실행 체크리스트

### Phase 1 세부 작업 (Week 1-3)

#### Week 1 실행 계획
**Day 1 (월요일)**
- [ ] PostgreSQL 스키마 구현 시작
- [ ] FastAPI 서버 기본 설정 및 미들웨어
- [ ] GitHub Actions CI/CD 기본 설정

**Day 2 (화요일)**
- [ ] 데이터베이스 마이그레이션 완료
- [ ] Mock Authentication 시스템 구현
- [ ] 로깅 시스템 설정

**Day 3 (수요일)**
- [ ] Redis 대체 캐싱 시스템 구현 시작
- [ ] WebSocket 기본 구조 설계
- [ ] 에러 처리 표준화

**Day 4 (목요일)**
- [ ] 캐싱 시스템 완성 및 테스트
- [ ] WebSocket 채팅 스트리밍 구현
- [ ] API 응답 최적화

**Day 5 (금요일)**
- [ ] Week 1 통합 테스트
- [ ] 성능 기준 달성 확인
- [ ] Week 2 계획 정리

#### Week 2 실행 계획
**Day 1 (월요일)**
- [ ] 타이핑 인디케이터 구현
- [ ] 실시간 메시지 스트리밍 완성
- [ ] UI 상태 관리 개선

**Day 2-3 (화수요일)**
- [ ] Web Search Agent 고도화
- [ ] 검색 결과 구조화 및 요약
- [ ] 인용 시스템 구현

**Day 4-5 (목금요일)**
- [ ] 검색 결과 캐싱 및 최적화
- [ ] 검색 진행 상태 표시
- [ ] 검색 결과 시각화

#### Week 3 실행 계획
**Day 1-2 (월화요일)**
- [ ] 대화 기록 저장 및 불러오기
- [ ] 반응형 웹 디자인 완성
- [ ] 사용자 경험 전반 개선

**Day 3-4 (수목요일)**
- [ ] 단위 테스트 작성
- [ ] E2E 테스트 구현
- [ ] 성능 테스트 및 최적화

**Day 5 (금요일)**
- [ ] Phase 1 완료 기준 검증
- [ ] 보안 검토 완료
- [ ] Phase 2 준비

### Phase 2-4 유사한 세부 계획 적용

---

## 📝 문서화 및 인수인계

### 기술 문서
- [ ] API 문서 (OpenAPI/Swagger)
- [ ] 데이터베이스 스키마 문서
- [ ] 아키텍처 다이어그램
- [ ] 배포 가이드

### 운영 문서  
- [ ] 모니터링 가이드
- [ ] 장애 대응 매뉴얼
- [ ] 백업/복구 절차
- [ ] 성능 튜닝 가이드

### 사용자 문서
- [ ] 사용자 매뉴얼
- [ ] 기능별 가이드
- [ ] FAQ
- [ ] 트러블슈팅 가이드

---

**문서 버전**: v1.0  
**최종 업데이트**: 2025-01-06  
**작성자**: AI 포탈 개발팀  
**승인자**: 프로젝트 매니저

---

> 📌 **주의사항**: 이 계획은 Vibe Coding 방식에 따라 진행하며, 개발 과정에서 발견되는 기술적 인사이트와 사용자 피드백에 따라 유연하게 조정될 수 있습니다. 매주 계획 검토를 통해 최적의 구현 방향을 유지합니다.